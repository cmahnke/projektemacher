<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8"><meta property="og:url" content="https://projektemacher.org/en/post/christianmahnke/post/wikidata-entities-in-hugo/">
  <meta property="og:site_name" content="Projektemacher">
  <meta property="og:title" content="Wikidata Links in Hugo">
  <meta property="og:description" content="Another step towards easier searchability of the site…">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2025-05-28T18:22:44+02:00">
    <meta property="article:modified_time" content="2025-05-28T18:22:44+02:00">
<title>
  Wikidata Links in Hugo · Projektemacher
</title><link rel="canonical" href="https://projektemacher.org/en/post/christianmahnke/post/wikidata-entities-in-hugo/"><meta name="author" content="Christian Mahnke">
<meta http-equiv="Content-Language" content="en">

<meta name="description" content="Blog factory">
<meta property="og:type" content="article" /><meta property="og:url" content="https://projektemacher.org/en/post/christianmahnke/post/wikidata-entities-in-hugo/" /><meta property="og:title" content="Wikidata Links in Hugo" />

  
  
    
  



<meta name="keywords" content="blog, book, digitization, history, cultural history, Hugo, Wikidata, SPARQL">
<meta name="generator" content="Hugo 0.148.2">
<meta name="projektemacher.org:build-date" content="2025-09-06 04:02:04.621759729 &#43;0000 UTC m=&#43;9.248356565"><meta name="projektemacher.org:stats" content="{&#34;count&#34;:&#34;2540&#34;,&#34;latest&#34;:&#34;2026-11-10T12:47:44&#43;02:00&#34;}">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no">

<link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-16.png" sizes="16x16"><link rel="icon" type="image/svg+xml" href="https://projektemacher.org/images/cm.svg">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
<link href="https://projektemacher.org/css/3dcde2e700baa65d3814003bfc8fa7f9.min.955f89e16b1a528bbcafc08bad1eca46a37f7ebbceefb7a80afb687c7d7d19e0.css" rel="stylesheet" integrity="sha256-lV&#43;J4WsaUou8r8CLrR7KRqN/frvO77eoCvtofH19GeA=">
<script src="https://projektemacher.org/js/5d85c20c8f862f9ecfa0aee0edbc8fe4.min.922583d2e8ead914d71230bc9f9e5465d65518d3ce7f50272ed030ce231e456b.js" integrity="sha256-kiWD0ujq2RTXEjC8n55UZdZVGNPOf1AnLtAwziMeRWs="></script>


    
    

    

    <link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-16.png" sizes="16x16">
    
        <link rel="icon" type="image/svg+xml" href="https://projektemacher.org/images/cm.svg">
    
    <link rel="alternate" type="text/bibtex" href="https://projektemacher.org/en/post/christianmahnke/post/wikidata-entities-in-hugo/citation.bib" title="Projektemacher" />
    </head>

  
  
  <body class="colorscheme-light ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://projektemacher.org/en"><img alt="Logo" class="header-logo" src="https://projektemacher.org/images/laborant.svg" />
        Projektemacher</a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/blogs/">Sites &amp; Blogs</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/posts/">News</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/archive/">Archive</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/search/">Search</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://merch.projektemacher.org/en/">Merch</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/contact/">Contact</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="https://projektemacher.org/post/christianmahnke/post/wikidata-entities-in-hugo/">Deutsch</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


      
  <div class="content page">
    <section class="container page ">
      <article>
        <header>
          <h1 class="header">Wikidata Links in Hugo</h1>
        </header>
        <p>Another step towards easier searchability of the site&hellip;</p>
<p>The Hugo template below is used when translating Markdown to HTML links. It uses:</p>
<ul>
<li><a href="https://www.wikipedia.org/" target="_blank">Wikipedia</a> links are enriched with the corresponding <a href="https://wikidata.org/" target="_blank">Wikidata</a> entity identifiers via the <a href="https://www.mediawiki.org/wiki/API:Pageprops" target="_blank">Mediawiki API</a></li>
<li>A shot in the dark: If it is an external URL (i.e. starts with <code>http</code>), the <a href="https://query.wikidata.org/sparql" target="_blank">Wikidata SPARQ endpoint</a> is queried to find out whether the URL has been stored as <code>officialWebsite</code> (P856), <code>officialBlog</code> (P1581) or <code>onlineDatabaseURL</code> (P1316) for an entity, if so, this identifier is used.</li>
<li>Wikidata links marked with a CSS class (<code>wikidata</code>), and the identifier added</li>
<li>External links opened in a new tab</li>
</ul>
<p>The file <code>layouts/_default/_markup/render-link.html</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go-html-template" data-lang="go-html-template"><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$target</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">.Destination</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$wikidataID</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">findRE</span> <span style="color:#e6db74">`(?m)https://(.{2}).wikipedia.org/wiki/(.[^#]*)`</span> <span style="color:#a6e22e">$target</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$queryURL</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">replaceRE</span> <span style="color:#e6db74">`(?m)https://(.{2}).wikipedia.org/wiki/(.[^#]*)`</span> <span style="color:#e6db74">&#34;https://$1.wikipedia.org/w/api.php?action=query&amp;prop=pageprops&amp;titles=$2&amp;format=json&#34;</span> <span style="color:#a6e22e">$target</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">try</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">resources</span><span style="color:#a6e22e">.GetRemote</span> <span style="color:#a6e22e">$queryURL</span><span style="color:#f92672">)</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.Err</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">errorf</span> <span style="color:#e6db74">&#34;Unable to get remote resource %s: %s&#34;</span>  <span style="color:#a6e22e">$queryURL</span> <span style="color:#a6e22e">.</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.Value</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$data</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">.Content</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">transform</span><span style="color:#a6e22e">.Unmarshal</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{</span> <span style="color:#a6e22e">$keys</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">slice</span> <span style="color:#75715e">}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">$k</span><span style="color:#f92672">,</span> <span style="color:#a6e22e">$_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">$data</span><span style="color:#a6e22e">.query.pages</span> <span style="color:#75715e">}}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">{{</span> <span style="color:#a6e22e">$keys</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$keys</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">append</span> <span style="color:#a6e22e">$k</span> <span style="color:#75715e">}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$pageMeta</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">index</span> <span style="color:#a6e22e">$data</span><span style="color:#a6e22e">.query.pages</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">first</span> <span style="color:#a6e22e">1</span> <span style="color:#a6e22e">$keys</span><span style="color:#f92672">)</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$wikidataID</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$pageMeta</span><span style="color:#a6e22e">.pageprops.wikibase_item</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">else</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">errorf</span> <span style="color:#e6db74">&#34;Unable to get remote resource %s&#34;</span> <span style="color:#a6e22e">$queryURL</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">hasPrefix</span> <span style="color:#a6e22e">$target</span> <span style="color:#e6db74">&#34;http&#34;</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$queryURL</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;https://query.wikidata.org/sparql&#34;</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$queryOpts</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">dict</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;method&#34;</span> <span style="color:#e6db74">&#34;get&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;headers&#34;</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">dict</span> <span style="color:#e6db74">&#34;Accept&#34;</span> <span style="color:#e6db74">&#34;application/sparql-results+json&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$query</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">printf</span> <span style="color:#e6db74">`SELECT ?item ?itemLabel ?officialWebsite ?officialBlog ?onlineDatabaseURL WHERE {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      ?item wdt:P856 &lt;%s&gt; . SERVICE wikibase:label { bd:serviceParam wikibase:language &#34;[AUTO_LANGUAGE],en&#34; . }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      OPTIONAL { ?item wdt:P856 ?officialWebsite . } OPTIONAL { ?item wdt:P1581 ?officialBlog . } OPTIONAL { ?item wdt:P1316 ?onlineDatabaseURL . }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }`</span> <span style="color:#a6e22e">$target</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$queryURL</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">printf</span> <span style="color:#e6db74">&#34;%s?query=%s&#34;</span> <span style="color:#a6e22e">$queryURL</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">urlquery</span> <span style="color:#a6e22e">$query</span><span style="color:#f92672">)</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">try</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">resources</span><span style="color:#a6e22e">.GetRemote</span> <span style="color:#a6e22e">$queryURL</span> <span style="color:#a6e22e">$queryOpts</span><span style="color:#f92672">)</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.Err</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">errorf</span> <span style="color:#e6db74">&#34;Unable to get remote resource %s: %s&#34;</span>  <span style="color:#a6e22e">$queryURL</span> <span style="color:#a6e22e">.</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.Value</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$data</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">.Content</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">transform</span><span style="color:#a6e22e">.Unmarshal</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">and</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">reflect</span><span style="color:#a6e22e">.IsMap</span> <span style="color:#a6e22e">$data</span><span style="color:#a6e22e">.results</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">isset</span> <span style="color:#a6e22e">$data</span><span style="color:#a6e22e">.results</span> <span style="color:#e6db74">&#34;bindings&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">reflect</span><span style="color:#a6e22e">.IsSlice</span> <span style="color:#a6e22e">$data</span><span style="color:#a6e22e">.results.bindings</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">gt</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">len</span> <span style="color:#a6e22e">$data</span><span style="color:#a6e22e">.results.bindings</span><span style="color:#f92672">)</span> <span style="color:#a6e22e">0</span><span style="color:#f92672">)</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$result</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">index</span> <span style="color:#a6e22e">$data</span><span style="color:#a6e22e">.results.bindings</span> <span style="color:#a6e22e">0</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$wikidataID</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">replaceRE</span> <span style="color:#e6db74">`(?m)https://www.wikidata.org/entity/(.*)`</span> <span style="color:#e6db74">&#34;$1&#34;</span> <span style="color:#a6e22e">$result</span><span style="color:#a6e22e">.item.value</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">else</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">{{-</span> <span style="color:#a6e22e">errorf</span> <span style="color:#e6db74">&#34;Unable to get remote resource %s&#34;</span> <span style="color:#a6e22e">$queryURL</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">{{-</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">or</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">hasPrefix</span> <span style="color:#a6e22e">$target</span> <span style="color:#e6db74">&#34;https://www.wikidata.org/wiki/&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">hasPrefix</span> <span style="color:#a6e22e">$target</span> <span style="color:#e6db74">&#34;https://www.wikidata.org/entity/&#34;</span><span style="color:#f92672">)</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#a6e22e">$wikidataID</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">replaceRE</span> <span style="color:#e6db74">`(?m)https://www.wikidata.org/wiki/(.*)`</span> <span style="color:#e6db74">&#34;$1&#34;</span> <span style="color:#a6e22e">$target</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wikidata&#34;</span> <span style="color:#75715e">{{</span> <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">ne</span> <span style="color:#a6e22e">$wikidataID</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#75715e">}}</span><span style="color:#a6e22e">data-wikidata-entity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">$wikidataID</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span> <span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}</span><span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.Destination</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">safeURL</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.Title</span><span style="color:#75715e">}}</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}{{</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">strings</span><span style="color:#a6e22e">.HasPrefix</span> <span style="color:#a6e22e">.Destination</span> <span style="color:#e6db74">&#34;http&#34;</span> <span style="color:#75715e">}}</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}</span>&gt;<span style="color:#75715e">{{</span> <span style="color:#a6e22e">.Text</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">safeHTML</span> <span style="color:#75715e">}}</span>&lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#66d9ef">else</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#75715e">{{</span> <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">ne</span> <span style="color:#a6e22e">$wikidataID</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#75715e">}}</span><span style="color:#a6e22e">data-wikidata-entity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">$wikidataID</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span> <span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}</span><span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.Destination</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">safeURL</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.Title</span><span style="color:#75715e">}}</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}{{</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">strings</span><span style="color:#a6e22e">.HasPrefix</span> <span style="color:#a6e22e">.Destination</span> <span style="color:#e6db74">&#34;http&#34;</span> <span style="color:#75715e">}}</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}</span>&gt;<span style="color:#75715e">{{</span> <span style="color:#a6e22e">.Text</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">safeHTML</span> <span style="color:#75715e">}}</span>&lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#75715e">-}}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{-</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">-}}</span>
</span></span></code></pre></div><p>For the SPARQL query to work, the media type must be enabled in the Hugo configuration.</p>
<p>The following setting (<a href="https://gohugo.io/configuration/security/#httpmediatypes" target="_blank"><code>security.http</code></a>) must be adjusted or added in <code>config.toml</code> or <code>hugo.tml</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">security</span>.<span style="color:#a6e22e">http</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mediaTypes</span> = [<span style="color:#e6db74">&#39;^application/json$&#39;</span>, <span style="color:#e6db74">&#39;^application/json;\s?charset=[uU][tT][fF]-8$&#39;</span>, <span style="color:#e6db74">&#39;^application/sparql-results\+json;\s?charset=[uU][tT][fF]-8$&#39;</span>]
</span></span></code></pre></div><h2 id="and-what-is-it-all-for">
  And what is it all for?
  <a class="heading-link" href="#and-what-is-it-all-for">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>In this way, entities in the source text can simply be labelled as (markdown) links in order to then be evaluated via JavaScript during display in the browser, for example. The entities can also be helpful for indexing, e.g. to give them a higher relevance in the search.</p>
<p>This CSS can be used to deactivate the links:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#f92672">a</span>.<span style="color:#a6e22e">wikidata</span> {
</span></span><span style="display:flex;"><span>  pointer-events: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">text-decoration</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>  colour: <span style="color:#66d9ef">unset</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Of course, the variants for <code>:link</code> <code>:visited</code>, <code>:hover</code> and <code>:active</code> also need to be adapted.</p>
<h2 id="can-you-see-anything-yet">
  Can you see anything yet?
  <a class="heading-link" href="#can-you-see-anything-yet">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>No (or only in the source code of the page)</p>
      </article>
    </section>
</div>



    </main>
    <footer class="footer"><div class="footer-container">
    <p class="projektemacher">
        Projektemacher is a <a href="https://projektemacher.org/en/">Projektemacher</a> blog <a title="Christian Mahnke" class="footer-link-cm" href="https://christianmahnke.de/"><img src="https://projektemacher.org/images/cm.svg" style="height: 16px; margin-left: .5rem;"></a>
    </p><p class="copyright">&copy; 2009 - 2024 </p><p class="privacy"><a href="https://projektemacher.org/privacy" title="Privacy policy">Privacy policy</a></p>Powered by <div class="footer-powered-by"><a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.</div></div>

  </footer>
  </body>

</html>
