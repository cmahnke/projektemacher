<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8"><meta property="og:url" content="https://projektemacher.org/en/post/christianmahnke/post/iiif-proxy/article.html">
  <meta property="og:site_name" content="Projektemacher">
  <meta property="og:title" content="IIIF Proxy">
  <meta property="og:description" content="On-the-fly image processing for IIIF resources">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2022-01-26T11:44:44+02:00">
    <meta property="article:modified_time" content="2022-01-26T11:44:44+02:00">
<title>
  IIIF Proxy · Projektemacher
</title><link rel="canonical" href="https://projektemacher.org/en/post/christianmahnke/post/iiif-proxy/article.html"><meta name="author" content="Christian Mahnke">
  <meta name="dc.creator" content="Christian Mahnke">

<meta http-equiv="Content-Language" content="en">
<meta name="dc.type" content="Text">
<meta name="description" content="On-the-fly image processing for IIIF resources">
<meta property="og:type" content="article" /><meta property="og:url" content="https://projektemacher.org/en/post/christianmahnke/post/iiif-proxy/article.html" /><meta property="og:title" content="IIIF Proxy" />

  
  
    
  



<meta name="keywords" content="Fold removal, proxy server, image processing[Fold removal, proxy server, image processing], IIIF, OpenCV, DigitalImages"><meta name="dc.subject" content="Fold removal"><meta name="dc.subject" content="proxy server"><meta name="dc.subject" content="image processing[Fold removal"><meta name="dc.subject" content="proxy server"><meta name="dc.subject" content="image processing]"><meta name="dc.subject" content="IIIF"><meta name="dc.subject" content="OpenCV"><meta name="dc.subject" content="DigitalImages">
<meta name="generator" content="Hugo 0.156.0">
<meta name="projektemacher.org:build-date" content="2026-03-01 05:25:23.469889108 &#43;0000 UTC m=&#43;13.886235846"><meta name="projektemacher.org:stats" content="{&#34;count&#34;:&#34;5067&#34;,&#34;latest&#34;:&#34;2027-10-19T12:47:44&#43;02:00&#34;}">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no">

<link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-16.png" sizes="16x16"><link rel="icon" type="image/svg+xml" href="https://projektemacher.org/images/cm.svg">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
<link href="https://projektemacher.org/css/3dcde2e700baa65d3814003bfc8fa7f9.min.da70574f9d939ceb6c2b98417c8559a15bdcab44b3c80c7fd03e43eb4da25843.css" rel="stylesheet" integrity="sha256-2nBXT52TnOtsK5hBfIVZoVvcq0SzyAx/0D5D602iWEM=">
<script src="https://projektemacher.org/js/5d85c20c8f862f9ecfa0aee0edbc8fe4.min.9e312a1385cd8a0a9b42110fe749082c05337c88e1df8799f014d3e0bddb2e9e.js" integrity="sha256-njEqE4XNigqbQhEP50kILAUzfIjh34eZ8BTT4L3bLp4="></script>


    
    

    

    <link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-16.png" sizes="16x16">
    
        <link rel="icon" type="image/svg+xml" href="https://projektemacher.org/images/cm.svg">
    
    <link rel="alternate" type="text/bibtex" href="https://projektemacher.org/en/post/christianmahnke/post/iiif-proxy/citation.bib" title="Projektemacher" />
    <link rel="canonical" type="text/html" href="https://projektemacher.org/en/post/christianmahnke/post/iiif-proxy/" title="Projektemacher" />
    

    </head>

  
  
  <body class="colorscheme-light ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://projektemacher.org/en"><img alt="Logo" class="header-logo" src="https://projektemacher.org/images/laborant.svg" />
        Projektemacher</a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/blogs/">Sites &amp; Blogs</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/posts/">News</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/archive/">Archive</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/search/">Search</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://merch.projektemacher.org/en/">Merch</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/contact/">Contact</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="https://projektemacher.org/post/christianmahnke/post/iiif-proxy/article.html">Deutsch</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


      
  <div class="content page">
    <section class="container page ">
      <article>
        <header>
          <h1 class="header">IIIF Proxy</h1>
        </header>
        <p>To improve the &lsquo;displayability&rsquo; of digital objects such as coins and books, I have written a proxy for IIIF resources&hellip;</p>
<p>The digital collections of the University of Göttingen are mainly fed from two portals:</p>
<ul>
<li><a href="https://sammlungen.uni-goettingen.de/index/" target="_blank">Scientific Collections of the Georg-August-Universität Göttingen</a></li>
<li><a href="https://gdz.sub.uni-goettingen.de/" target="_blank">Göttingen Digitisation Centre</a></li>
</ul>
<p>Both make their digitised material available via <a href="https://iiif.io/" target="_blank">IIIF</a>. Unfortunately, the images provided are not optimised for aesthetically pleasing secondary use.</p>
<p>In order to minimise manual post-processing and the resulting storage effort, I have slightly extended an existing IIIF server - <a href="https://github.com/dbmdz/iiif-server-hymir/" target="_blank">Hymir from MDZ</a> - so that it is able to sit on an institutional server and process the images delivered by it.</p>
<p>In order to keep the image processing configurable, a field of the IIIF Image API is used to specify the operation. The <a href="https://iiif.io/api/image/2.1/#quality" target="_blank"><code>quality</code></a> field was suitable for this, the proxy allows:</p>
<ul>
<li><code>nofold</code> - remove page fold</li>
<li><code>transparent-background</code> - Transparent background</li>
<li><code>nofold+transparentbg</code> - both together</li>
</ul>
<p>For the image operations themselves, <a href="https://opencv.org/" target="_blank">OpenCV</a> is used, whereby the background is simply removed with a threshold value and only at the edges - i.e. made transparent. Recognising the folds is a little more complicated, but it&rsquo;s not rocket surgery either:</p>
<ul>
<li>Recognising lines (<a href="https://en.wikipedia.org/wiki/Hough_transform" target="_blank">Probabilistic Hough Line Transform</a>) in the fold area depending on whether they are left or right-sided</li>
<li>Sorting the recognised lines by angle and length to identify the most likely candidate of the fold</li>
<li>Rotate to align the detected fold vertically</li>
</ul>
<p>But here the reliability could be improved.</p>
<h1 id="examples">
  Examples
  <a class="heading-link" href="#examples">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h1>
<p>The following examples show digital copies in the respective portal and in the viewer of the proxy. The viewer of the proxy allows the background colour to be changed in order to increase the contrast. A blue background is preset in the examples.</p>
<h2 id="transparent-background">
  Transparent background
  <a class="heading-link" href="#transparent-background">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<div>Before</div><div>After</div>
<p><a href="https://sammlungen.uni-goettingen.de/objekt/record_DE-MUS-062622_kenom_127703/" target="_blank">Original presentation</a></p>
<div class="small-font-right">
Picture: Coin Cabinet of the University of Göttingen, Stephan Eckardt, Archaeological Institute Göttingen, 2014 / Licence: Namensnennung - Nicht kommerziell 4.0 (CC BY-NC 4.0)
</div>
<h2 id="without-page-fold">
  Without page fold
  <a class="heading-link" href="#without-page-fold">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>And with transparent background&hellip;</p>
<div>Before</div><div>After</div>
<p><a href="https://gdz.sub.uni-goettingen.de/id/DE-611-HS-3461927?tify=%7B%22pages%22%3A%5B16%5D%2C%22view%22%3A%22info%22%7D" target="_blank">Original presentation</a></p>
<div class="small-font-right">
Picture: Niedersächsische Staats- und Universitätsbibliothek Göttingen / Licence: Public Domain Mark 1.0 (PDM)
</div>
<br>
<p>The project is available on <a href="https://github.com/cmahnke/iiif-proxy" target="_blank">GitHub</a>.</p>
<h1 id="update-11422">
  Update 11.4.22
  <a class="heading-link" href="#update-11422">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h1>
<p>Due to time constraints, the project will not be continued for the time being, especially as the upstream project is not very active at the moment&hellip;</p>
      </article>
    </section>
</div>



    </main>
    <footer class="footer"><div class="footer-container">
    <p class="projektemacher">
        Projektemacher is a <a href="https://projektemacher.org/en/">Projektemacher</a> blog <a title="Christian Mahnke" class="footer-link-cm" href="https://christianmahnke.de/"><img src="https://projektemacher.org/images/cm.svg" style="height: 16px; margin-left: .5rem;"></a>
    </p><p class="copyright">&copy; 2009 - 2026 </p><p class="privacy"><a href="https://projektemacher.org/privacy" title="Privacy policy">Privacy policy</a></p>Powered by <div class="footer-powered-by"><a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.</div></div>

  </footer>
  </body>

</html>
