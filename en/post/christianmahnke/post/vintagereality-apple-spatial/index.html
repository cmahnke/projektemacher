<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8"><meta property="og:url" content="https://projektemacher.org/en/post/christianmahnke/post/vintagereality-apple-spatial/">
  <meta property="og:site_name" content="Projektemacher">
  <meta property="og:title" content="Historical stereograms on modern hardware">
  <meta property="og:description" content="The Apple Spatial Image format">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2025-12-28T18:22:44+02:00">
    <meta property="article:modified_time" content="2025-12-28T18:22:44+02:00">
<title>
  Historical stereograms on modern hardware · Projektemacher
</title><link rel="canonical" href="https://projektemacher.org/en/post/christianmahnke/post/vintagereality-apple-spatial/"><meta name="author" content="Christian Mahnke">
  <meta name="dc.creator" content="Christian Mahnke">

<meta http-equiv="Content-Language" content="en">
<meta name="dc.type" content="Text">
<meta name="description" content="The Apple Spatial Image format">
<meta property="og:type" content="article" /><meta property="og:url" content="https://projektemacher.org/en/post/christianmahnke/post/vintagereality-apple-spatial/" /><meta property="og:title" content="Historical stereograms on modern hardware" />

  
  
    
  



<meta name="keywords" content="Stereoskopie, Anaglyphen[Stereoskopie, Anaglyphen], AI, 3D, DigitalImages, OpenCV, Stereoscopy"><meta name="dc.subject" content="Stereoskopie"><meta name="dc.subject" content="Anaglyphen[Stereoskopie"><meta name="dc.subject" content="Anaglyphen]"><meta name="dc.subject" content="AI"><meta name="dc.subject" content="3D"><meta name="dc.subject" content="DigitalImages"><meta name="dc.subject" content="OpenCV"><meta name="dc.subject" content="Stereoscopy">
<meta name="generator" content="Hugo 0.156.0">
<meta name="projektemacher.org:build-date" content="2026-03-01 05:25:23.469889108 &#43;0000 UTC m=&#43;13.886235846"><meta name="projektemacher.org:stats" content="{&#34;count&#34;:&#34;5067&#34;,&#34;latest&#34;:&#34;2027-10-19T12:47:44&#43;02:00&#34;}">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no">

<link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-16.png" sizes="16x16"><link rel="icon" type="image/svg+xml" href="https://projektemacher.org/images/cm.svg">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
<link href="https://projektemacher.org/css/3dcde2e700baa65d3814003bfc8fa7f9.min.da70574f9d939ceb6c2b98417c8559a15bdcab44b3c80c7fd03e43eb4da25843.css" rel="stylesheet" integrity="sha256-2nBXT52TnOtsK5hBfIVZoVvcq0SzyAx/0D5D602iWEM=">
<script src="https://projektemacher.org/js/5d85c20c8f862f9ecfa0aee0edbc8fe4.min.9e312a1385cd8a0a9b42110fe749082c05337c88e1df8799f014d3e0bddb2e9e.js" integrity="sha256-njEqE4XNigqbQhEP50kILAUzfIjh34eZ8BTT4L3bLp4="></script>


    
    

    

    <link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://projektemacher.org/images/favicon-16.png" sizes="16x16">
    
        <link rel="icon" type="image/svg+xml" href="https://projektemacher.org/images/cm.svg">
    
    <link rel="alternate" type="text/bibtex" href="https://projektemacher.org/en/post/christianmahnke/post/vintagereality-apple-spatial/citation.bib" title="Projektemacher" />
    

    </head>

  
  
  <body class="colorscheme-light ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://projektemacher.org/en"><img alt="Logo" class="header-logo" src="https://projektemacher.org/images/laborant.svg" />
        Projektemacher</a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/blogs/">Sites &amp; Blogs</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/posts/">News</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/archive/">Archive</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/search/">Search</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://merch.projektemacher.org/en/">Merch</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://projektemacher.org/en/contact/">Contact</a>
            </li>
          
        
        
          
          
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="https://projektemacher.org/post/christianmahnke/post/vintagereality-apple-spatial/">Deutsch</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


      
  <div class="content page">
    <section class="container page ">
      <article>
        <header>
          <h1 class="header">Historical stereograms on modern hardware</h1>
        </header>
        <p>I have a new phone&hellip;</p>
<p>&hellip;with a new, interesting feature that combines several of my favourite things: digital image formats and stereoscopy/3D.</p>
<p>Apple has expanded the HEIC image format slightly for mixed reality glasses. Instead of one image, two slightly offset images are stored in a container together with some metadata. In the image gallery, for example, this combination causes an additional icon to appear that can be used to activate the spatial view. The latest iPhones can also take such pictures.</p>
<p>Before we get into the boring technical details, here is an example with a historical stereogram from the <a href="https://vintagereality.projektemacher.org/post/calcutta/" target="_blank">VintageReality website</a>. The button for the spatial view can be seen at the top right.</p>


<h2 id="implementation">
  Implementation
  <a class="heading-link" href="#implementation">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>The result was achieved through the following steps:</p>
<h3 id="heic-images">
  HEIC images
  <a class="heading-link" href="#heic-images">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>First, the images are extracted from the scans of the cards. The <a href="https://projektemacher.org/en/post/vintagereality-ai/">model from the last post</a> is used for this purpose. They are then superimposed on top of each other with almost pixel-perfect accuracy using OpenCV, the resulting edges are removed where possible, and the brightness is adjusted.</p>
<p>The two half-images are then embedded in an HEIC container using the Python module <a href="https://github.com/bigcat88/pillow_heif" target="_blank"><code>pillow_heif</code></a>.</p>
<h3 id="xmp-metadata">
  XMP metadata
  <a class="heading-link" href="#xmp-metadata">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>The necessary metadata is encoded in XMP, comparable to old (2024) UltraHDR implementations.</p>
<p>The elements are located in the namespace <code>http://ns.apple.com/image/1.0/</code> (preferred prefix <code>apple</code>).</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Element</th>
          <th style="text-align: left">Type</th>
          <th style="text-align: left">Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>HorizontalFOV</code></td>
          <td style="text-align: left">Real</td>
          <td style="text-align: left">Horizontal field of view in degrees.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>Baseline</code></td>
          <td style="text-align: left">Real</td>
          <td style="text-align: left">Stereo baseline (eye distance) in millimetres.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>HorizontalDisparityAdjustment</code></td>
          <td style="text-align: left">Real</td>
          <td style="text-align: left">Factor for adjusting the horizontal disparity (usually a percentage, e.g. 0.02).</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>CameraModelType</code></td>
          <td style="text-align: left">String</td>
          <td style="text-align: left">The projection model type. Value used: <code>SimplifiedPinhole</code>.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>CameraIntrinsics</code></td>
          <td style="text-align: left">String</td>
          <td style="text-align: left">Intrinsic camera parameters as a space-separated string: <code>f_pix 0 ppx 0 f_pix ppy 0 0 1</code>.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>CameraExtrinsicsRotation</code></td>
          <td style="text-align: left">String</td>
          <td style="text-align: left">Rotation matrix as a space-separated string (row-oriented). Value: <code>1 0 0 0 1 0 0 0 1</code> (identity).</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>CameraExtrinsicsPosition</code></td>
          <td style="text-align: left">String</td>
          <td style="text-align: left">Position vector in metres as a space-separated string <code>x y z</code>. Value: <code>0 0 0</code>.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>StereoGroupIndex</code></td>
          <td style="text-align: left">Integer</td>
          <td style="text-align: left">Index for identifying the stereo group. Value: <code>1</code>.</td>
      </tr>
      <tr>
          <td style="text-align: left">{.even-table}</td>
          <td></td>
          <td></td>
      </tr>
  </tbody>
</table>
<p>Many of these values are estimated, as exact values for the old cameras used cannot be determined:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Parameter</th>
          <th style="text-align: left">Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Horizontal field of view</td>
          <td style="text-align: left">45°</td>
      </tr>
      <tr>
          <td style="text-align: left">Interpupillary distance</td>
          <td style="text-align: left">65 mm</td>
      </tr>
      <tr>
          <td style="text-align: left">Disparity</td>
          <td style="text-align: left">2%</td>
      </tr>
  </tbody>
</table>
<p>Theoretically, the disparity could also be determined using OpenCV via alignment, but small deviations are insignificant. The remaining values can be calculated from the estimated values and the size of the input images:</p>
<p>[
\begin{aligned}
f_pix &amp;= \frac{width \cdot 0.5}{\tan(hfov_{rad} \cdot 0.5)} \
ppx &amp;= \frac{width}{2.0} \
ppy &amp;= \frac{height}{2.0} \
\end{aligned}
]</p>
<h4 id="further-information-from-apple-developer">
  Further information from Apple Developer
  <a class="heading-link" href="#further-information-from-apple-developer">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h4>
<ul>
<li><a href="https://developer.apple.com/documentation/ImageIO/Creating-spatial-photos-and-videos-with-spatial-metadata" target="_blank">Creating spatial photos and videos with spatial metadata</a></li>
<li><a href="https://developer.apple.com/documentation/imageio/writing-spatial-photos" target="_blank">Writing spatial photos</a></li>
</ul>
<h3 id="injecting-metadata">
  Injecting metadata
  <a class="heading-link" href="#injecting-metadata">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h3>
<p>Finally, the metadata must be injected into the image file. After some configuration (for the namespace and elements), this can be done with Phil Harvey&rsquo;s <a href="https://exiftool.org/" target="_blank"><code>exiftool</code></a>.</p>
<h2 id="results">
  Results
  <a class="heading-link" href="#results">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>In principle, the process works, with the results for indoor shots being significantly better than for outdoor shots. For outdoor shots, however, it can be helpful to compress the spatial staggering of the image planes slightly.</p>
<p>To try it out, these files can be saved on the iPhone in the &ldquo;Photos&rdquo; app.</p>
<ul>
<li><a href="./img/calcutta.heic" title="Image file" class="download-icon">Image file</a>,  <strong>Post</strong>: <a href="https://vintagereality.projektemacher.org/post/calcutta/" target="_blank">Empfangssaal des Maharajah von Tangore in Calcutta, Indien</a></li>
<li><a href="./img/neues-museum.heic" title="Image file" class="download-icon">Image file</a>, <strong>Post</strong>: <a href="https://vintagereality.projektemacher.org/post/neues-museum/" target="_blank">Neues Museum - Gruppe des farnesischen Stiers</a></li>
<li><a href="./img/damascus.heic" title="Image file" class="download-icon">Image file</a>,  <strong>Post</strong>: <a href="https://vintagereality.projektemacher.org/post/damascus/" target="_blank">Salon in the harem of a Mohammedan Pasha, Damascus</a></li>
</ul>
      </article>
    </section>
</div>



    </main>
    <footer class="footer"><div class="footer-container">
    <p class="projektemacher">
        Projektemacher is a <a href="https://projektemacher.org/en/">Projektemacher</a> blog <a title="Christian Mahnke" class="footer-link-cm" href="https://christianmahnke.de/"><img src="https://projektemacher.org/images/cm.svg" style="height: 16px; margin-left: .5rem;"></a>
    </p><p class="copyright">&copy; 2009 - 2026 </p><p class="privacy"><a href="https://projektemacher.org/privacy" title="Privacy policy">Privacy policy</a></p>Powered by <div class="footer-powered-by"><a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.</div></div>

  </footer>
  </body>

</html>
